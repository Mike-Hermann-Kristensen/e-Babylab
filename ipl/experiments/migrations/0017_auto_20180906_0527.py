# Generated by Django 2.0.8 on 2018-09-06 03:27

from django.db import migrations


def create_outerblocks(apps, schema_editor):
    OuterBlockItem = apps.get_model('experiments', 'OuterBlockItem')
    ListItem = apps.get_model('experiments', 'ListItem')
    db_alias = schema_editor.connection.alias
    listitems_pk = ListItem.objects.all().values_list('id', flat=True)
    
    # create outerblocks with id = listitem id for existing data
    for li in listitems_pk:
        OuterBlockItem.objects.using(db_alias).create(id=li, listitem_id=li)

class Migration(migrations.Migration):

    dependencies = [
        ('experiments', '0016_outerblockitem'),
    ]

    operations = [
        migrations.RunPython(create_outerblocks),
    ]
