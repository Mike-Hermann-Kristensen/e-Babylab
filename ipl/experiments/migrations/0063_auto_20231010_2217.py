# Generated by Django 3.1.14 on 2023-10-10 20:17

from django.db import migrations, models
import tinymce.models


class Migration(migrations.Migration):

    dependencies = [
        ('experiments', '0062_auto_20230219_1453'),
    ]

    operations = [
        migrations.AlterField(
            model_name='consentquestion',
            name='response_no',
            field=models.CharField(default='No', max_length=50, verbose_name='no'),
        ),
        migrations.AlterField(
            model_name='consentquestion',
            name='response_yes',
            field=models.CharField(default='Yes', max_length=50, verbose_name='yes'),
        ),
        migrations.AlterField(
            model_name='experiment',
            name='microphone_check_page_tpl',
            field=tinymce.models.HTMLField(default='{% extends "experiments/base.html" %} {% load static %} {% block title %}Microphone setup{% endblock %} {% block content%}\n<div class="container" id="webcam-calibration" data-subject-uuid="{{ subject_data.id }}">\n    <div class="row">\n        <div class="col text-center">\n            <h1>Mirophone setup</h1>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col">\n            <div class="card active" id="webcam_step_2">\n                <div class="card-body">\n                    <p class="card-text">\n                        For this study it is necessary that you allow access to your microphone.<br /><br />\n                        In the next step, your browser will ask you for permission to activate the microphone. Please click on "Allow" to continue with the study. The test recording (about 3 seconds) begins right after you allow access to your microphone. Please say something out loud (e.g. "hello") so that you can check the audio recording. <br /><br />\n                        If you are offered the option "always allow", please select this so that your browser saves the setting (only for our server). You can also only allow individual cases. Then your browser will ask for permission to activate the microphone several times in the next few steps.\n                    </p>\n                    <button type="button" class="btn btn-primary" disabled>Next</button>\n                </div>\n            </div>\n\n            <div class="card" id="webcam_step_4">\n                <div class="card-body">\n                    <p class="card-text">\n                        Below is the sample audio. Please play this and assess whether sound was recorded.<br /><br />\n                        Please make sure that sound is activated on your computer.\n                    </p>\n                    <p class="card-text" id="upload-progress">\n                        <img src="{% static \'experiments/img/loading.gif\' %}" alt="Loading" title="Loading" />\n                    </p>\n                    <div class="alert alert-danger" role="alert" style="display: none;">\n                        The audio upload failed.<br />\n                    </div>\n                    <div class="embed-responsive" style="display: none;">\n                    </div>\n                    <div class="alert alert-success" role="alert" style="display: none;">\n                        The audio upload was successful, please continue.\n                    </div>\n\n                    <button type="button" class="btn btn-primary" disabled data-target="{% url \'experiments:experimentRun\' subject_data.pk %}">Next (Sound was recorded.)</button>\n                    <button type="button" class="btn btn-warning" disabled data-toggle="modal" data-target="#repeatWebcamModal">Repeat test recording (There was a problem with the test recording.)</button>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n<div class="modal fade" id="repeatWebcamModal" tabindex="-1" role="dialog" aria-labelledby="repeatWebcamModalLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h5 class="modal-title" id="repeatWebcamModalLabel">Repeat test recording</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n            </div>\n            <div class="modal-body">\n                If you could not hear any sound: Please make sure that your speakers are on and connected to your computer. Please also check that the volume is not turned down too low.\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="repeatRutton">Repeat test recording</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<button id="exit-button" type="button" class="btn btn-secondary btn-sm">Exit</button>\n<script>\n    var webcam_not_found = `Unfortunately your microphone could not be detected.<br /><br />Please make sure a microphone is connected and click "Repeat test recording" to return to the microphone test.<br /><br />If you do not agree to allow access to your microphone and have therefore selected "do not allow", please close the browser window.`;\n    var include_pause_page = "{{ experiment.include_pause_page }}";\n    var recording_option = "{{ experiment.recording_option }}";\n</script>\n<script src="{% static \'experiments/js/detectrtc.min.js\' %}"></script>\n<script src="{% static \'experiments/js/webcam-calibration.js\' %}"></script>\n{% endblock %}', verbose_name='microphone check page template (ignore if not applicable)'),
        ),
        migrations.AlterField(
            model_name='experiment',
            name='webcam_check_page_tpl',
            field=tinymce.models.HTMLField(default='{% extends "experiments/base.html" %} {% load static %} {% block title %}Webcam and microphone setup{% endblock %} {% block content%}\n<div class="container" id="webcam-calibration" data-subject-uuid="{{ subject_data.id }}">\n    <div class="row">\n        <div class="col text-center">\n            <h1>Webcam and microphone setup</h1>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col">\n            <div class="card active" id="webcam_step_2">\n                <div class="card-body">\n                    <p class="card-text">\n                        For this study it is necessary that you allow access to webcam and microphone.<br /><br />\n                        In the next step, your browser will ask you for permission to activate the webcam and microphone. Please click on "Allow" to continue with the study.<br /><br />\n                        If you are offered the option "always allow", please select this so that your browser saves the setting (only for our server). You can also only allow individual cases. Your browser will then ask for permission to activate the webcam and microphone several times in the next few steps.\n                    </p>\n                    <button type="button" class="btn btn-primary" disabled>Next</button>\n                </div>\n            </div>\n\n            <div class="card" id="webcam_step_3">\n                <div class="card-body">\n                    <p class="card-text">\n                        You will now see a window with the camera image below. Please adjust your camera so that your child is clearly visible.<br /><br />\n                        We are about to make a short test recording (about 3 seconds) to test whether the video recording works. As soon as you click on "Start test recording", the test recording starts. Please say something out loud (e.g. "hello") after clicking so that you can check the audio recording.\n                    </p>\n                    <div class="alert alert-danger" role="alert" style="display: none;"></div>\n                    <div class="embed-responsive" style="display: none;">\n                        <video controls class="embed-responsive-item"></video>\n                    </div>\n                    <button type="button" class="btn btn-primary" disabled>Start test recording</button>\n                    <button type="button" class="btn btn-warning" id="repeat-check-button" style="display: none;">Repeat test recording</button>\n                </div>\n            </div>\n\n            <div class="card" id="webcam_step_4">\n                <div class="card-body">\n                    <p class="card-text">\n                        Below is the sample video. Please play this and assess whether you and your child are clearly visible and whether the sound was recorded.<br /><br />\n                        Please make sure that the sound is activated on your computer.\n                    </p>\n                    <p class="card-text" id="upload-progress">\n                        <img src="{% static \'experiments/img/loading.gif\' %}" alt="Loading" title="Loading" />\n                    </p>\n                    <div class="alert alert-danger" role="alert" style="display: none;">\n                        The video upload failed.<br />\n                    </div>\n                    <div class="embed-responsive" style="display: none;">\n                    </div>\n                    <div class="alert alert-success" role="alert" style="display: none;">\n                        The video upload was successful. Please proceed with the study.\n                    </div>\n\n                    <button type="button" class="btn btn-primary" disabled data-target="{% url \'experiments:experimentRun\' subject_data.pk %}">Next (Image and sound were recorded.)</button>\n                    <button type="button" class="btn btn-warning" disabled data-toggle="modal" data-target="#repeatWebcamModal">Repeat test (There was a problem with the test recording.)</button>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n<div class="modal fade" id="repeatWebcamModal" tabindex="-1" role="dialog" aria-labelledby="repeatWebcamModalLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h5 class="modal-title" id="repeatWebcamModalLabel">Repeat test recording</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n            </div>\n            <div class="modal-body">\n                If you could not hear any sound or see any image: Please make sure that your webcam and speakers are on and connected to your computer. Please also check that the volume is not turned down too low.\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="repeatRutton">Repeat test</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<button id="exit-button" type="button" class="btn btn-secondary btn-sm">Exit</button>\n<script>\n    var webcam_not_found = `Unfortunately your webcam could not be detected.<br /><br />Please make sure a webcam is connected and click "Repeat test recording" to return to the webcam test.<br /><br />If you do not agree to allow access to your webcam and have therefore selected "do not allow", please close the browser window.`;\n    var include_pause_page = "{{ experiment.include_pause_page }}";\n    var recording_option = "{{ experiment.recording_option }}";\n</script>\n<script src="{% static \'experiments/js/detectrtc.min.js\' %}"></script>\n<script src="{% static \'experiments/js/webcam-calibration.js\' %}"></script>\n{% endblock %}', verbose_name='webcam check page template (ignore if not applicable)'),
        ),
        migrations.AlterField(
            model_name='question',
            name='choices',
            field=models.TextField(blank=True, help_text='For types "radio", "select", and "select multiple", provide a comma-separated list of options (e.g., a, b, c). For type "integer range", provide the min and max integers (e.g., 1, 10) for range check. For type "age", provide the min and max integers (in months) for age check (e.g., 12, 36 - for limiting participation to 1-to-3-year-olds). For type "sex", provide the female followed by the male display text (e.g., female, male).', null=True),
        ),
    ]
